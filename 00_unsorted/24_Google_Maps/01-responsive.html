<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie ie6 oldie"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie ie7 oldie"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie ie8 oldie"> <![endif]-->
<!--[if IE 9]>          <html class="no-js ie ie9"> <![endif]-->
<!--[if IE 10]>         <html class="no-js ie ie10"> <![endif]-->
<!--[if gt IE 10]><!--> <html class="no-js"> <!--<![endif]-->
<head>
<meta charset="utf-8">
<!-- IE optimized -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<!-- Viewport optimized -->
<meta name="viewport" content="width=device-width,maximum-scale=1.0">
<!-- Title -->
<title>Google Map Test - Responsive</title>
<!-- CSS:FONT/ICON -->
<!-- CSS:LIB -->
	<link rel="stylesheet" href="../_shared/css/normalize.css"><!-- normalize -->
<!-- CSS:SITE -->
	<link rel="stylesheet" href="../_shared/css/style.css"><!-- normalize -->
<!-- CSS:CUSTOM -->
	<style>
		#container { position:relative; margin:0 10%; padding:10px 20px; z-index:10; background:rgba(255,255,255,0.9); }
		#maps { position:absolute; top:0; left:0; width:100%; height:100%; margin:0; }
		@media only screen and (max-width:600px) {
			#container { display:none; }
		}
	</style>
<!-- JS:LIB -->
	<script src="../_shared/js/modernizr-2.6.2.min.js"></script><!-- modernizr -->
	<script src="../_shared/js/jquery-1.8.3.min.js"></script><!-- jquery -->
<!-- JS:SITE -->
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
<!-- JS:CUSTOM -->
	<script>
		
		//init maps
		function initialize() {
			//vars
			var mapOptions = {
					zoom: 16,
					center: new google.maps.LatLng(-37.802745784757946, 144.95948817911153),
					mapTypeId: google.maps.MapTypeId.ROADMAP
				},
				map = new google.maps.Map(document.getElementById('maps'), mapOptions),
				marker = new google.maps.Marker({
					position: map.getCenter(),
					map: map,
					title: 'Fraynework'
				}),
				infowindow = new google.maps.InfoWindow();
			
			//infowindow
			infowindow.setContent('<b>This is Fraynework</b>');
			infowindow.open(map, marker);
			
			//events
			google.maps.event.addListener(map, 'center_changed', function() {
				// 3 seconds after the center of the map has changed, pan back to the
				// marker.
				/*
				window.setTimeout(function() {
					map.panTo(marker.getPosition());
				}, 3000);
				*/
			});
			google.maps.event.addListener(marker, 'click', function() {
				infowindow.open(map, marker);
			});
			google.maps.event.addDomListener(window, 'resize', function() {
				//map.panTo(marker.getPosition());
				map.setCenter(marker.getPosition());
			});
		}
		
		//init map on window load
		google.maps.event.addDomListener(window, 'load', initialize);
		
	</script>
</head>
<body>

<!-- CONTAINER -->
<div id="container">

	<h1>Google Map Test</h1>
	<h2>Responsive (Google Maps API v3)</h2>
	<p><b>Last Update: JX 20130205</b></p>
	<p><b>Notes:</b></p>
	<ul>
		<li>setCenter not working on iOS</li>
	</ul>

</div><!-- /CONTAINER -->

<!-- MAPS -->
<div id="maps">

	<!-- maps injected here -->
	
</div><!-- /MAPS -->

</body>
</html>
